# Lecture 06 â€“ Database Schema & Models (Mongoose)

## Overview
Is lecture mein hum:
- MongoDB database setup karte hain
- MongoDB Compass use karte hain
- Database schema aur models design karte hain
- Backend ko database se connect karte hain using Mongoose

---

## Database Tool Used
**MongoDB** (Cloud-based using MongoDB Atlas)  
**MongoDB Compass** (GUI tool to visualize database)

---

## MongoDB Compass â€“ Account & Cluster Setup (Hinglish Steps)

### Step 1: MongoDB Atlas Account
- MongoDB Atlas website par jao
- Sign up / login karo
- New **Project** create karo  
  ğŸ‘‰ Project name: **gittogether**

---

### Step 2: Create a Cluster
- â€œBuild a Databaseâ€ par click karo
- Free tier (Shared Cluster) choose karo
- Cloud provider & region select karo
- Cluster create hone ka wait karo

---

### Step 3: Database Access
- Database Access section mein jao
- New user create karo
- Username & password set karo
- Permissions: Read and Write access

---

### Step 4: Network Access
- Network Access section mein jao
- IP Address allow karo
- Development ke liye:
  - `0.0.0.0/0` (allow from anywhere)

---

### Step 5: Get Connection String
- Cluster ke â€œConnectâ€ button par click karo
- Choose: **Connect your application**
- Driver: Node.js
- Connection string copy karo

Example format:


ğŸ‘‰ Yahan:
- Database name: **gittogether**
- Project name: **gittogether**

---

## Connecting MongoDB Compass

- MongoDB Compass open karo
- â€œNew Connectionâ€ par click karo
- Connection string paste karo
- Connect button dabao

ğŸ‘‰ Ab aap apna database visually dekh sakte ho

---

## Database Structure (Current)

- **Database Name:** gittogether
- **Collection Name:** user

Collections MongoDB mein tables jaise hote hain  
Documents MongoDB mein rows jaise hote hain

---

## Why Mongoose?

**Mongoose** ek ODM (Object Data Modeling) library hai jo:
- MongoDB aur Node.js ke beech bridge ka kaam karti hai
- Schema define karne mein help karti hai
- Validation aur structure enforce karti hai

---

## Database Schema Design

### User Collection (Initial)

Fields jo hum store karenge:
- firstName
- lastName
- emailId
- password
- age
- gender

ğŸ‘‰ Ye fields milkar **User Schema** banate hain

---

## Why Schema is Important?

- Data consistent rehta hai
- Validation possible hoti hai
- Future bugs kam hote hain
- Large companies mein schema changes minimum rakhne padte hain

MongoDB flexible hai,  
lekin **LLD ke time schema carefully design karna bahut important hai**

---

## Config Folder & Database File

- Hum ek **config folder** create karte hain
- Uske andar ek file hoti hai:
  - `database.js`

Is file ka kaam:
- MongoDB connection logic rakhna
- Database se connect hone ka single responsibility

---

## connectDB Function

- `database.js` se ek function export hota hai:
  - `connectDB()`

Ye function:
- MongoDB se connection establish karta hai
- Server start hone se pehle call hota hai

---

## Correct Flow (Very Important)

ğŸ‘‰ **Pehle database connect hoga**  
ğŸ‘‰ **Uske baad server listen karega**

Flow:
1. connectDB() call
2. Database successfully connect
3. `app.listen()` call

Isse ensure hota hai:
- Server bina database ke start na ho
- Runtime errors avoid ho

---

# now create a models folder and create user.js 
in this user.js create a userSchema

## Key Takeaways
- MongoDB Atlas cloud database use hota hai
- MongoDB Compass se database visually manage hota hai
- Mongoose schema aur models provide karta hai
- Schema pehle design hota hai, phir code likha jata hai
- Database connection hamesha server se pehle hona chahiye

---

## ğŸ”¥ One-Line Summary
Lecture 6 mein hum MongoDB Atlas aur Compass ke through database setup karte hain, Mongoose ke using schema aur models define karte hain, aur backend ko database se properly connect karna seekhte hain.
